<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Can We Meet</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
</head>
<body>
    <div id="main-heading" style="position:relative;">
      Can We Meet
      <button id="info-btn" title="How to use" style="
        position:absolute;right:18px;top:50%;transform:translateY(-50%);
        background:#6c63ff;color:#fff;border:none;border-radius:50%;width:36px;height:36px;
        font-size:1.3em;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,0.08);">
        i
      </button>
    </div>
    <div id="container">
        <button id="toggle-map-btn" aria-label="Show/Hide Map">Hide Map</button>
        <div id="map"></div>
        <div id="chat-area">
            <h2>Live Chat Room</h2>
            <div id="chat-box"></div>
            <form id="chat-form" autocomplete="off">
                <input id="chat-input" autocomplete="off" placeholder="Type a message..." />
                <button type="submit">Send</button>
                <button type="button" id="chat-record" style="margin-left:6px;padding:4px 10px;border-radius:6px;background:#ff9800;color:#fff;border:none;">üé§</button>
            </form>

            <div id="location-controls">
            <button id="toggle-location-btn">Stop Sharing Location</button>
            <label style="margin-left:10px;">
                Share for
                <select id="share-duration">
                    <option value="0">Indefinitely</option>
                    <option value="60">1 min</option>
                    <option value="300">5 min</option>
                    <option value="900">15 min</option>
                </select>
            </label>
        </div>
        <button id="linkup-btn" style="position:relative;">
          Link-Up Nearby Users (30km)
          <span id="mini-chat-dot" style="display:none;position:absolute;top:2px;right:10px;width:12px;height:12px;background:#ff5500;border-radius:50%;"></span>
        </button>
        </div>
        
    </div>
    <div id="info-modal" style="
      display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;
      background:rgba(0,0,0,0.35);z-index:2000;align-items:center;justify-content:center;">
      <div style="
        background:#fff;max-width:90vw;width:400px;padding:28px 22px 18px 22px;
        border-radius:14px;box-shadow:0 4px 32px rgba(0,0,0,0.18);position:relative;">
        <button id="close-info-modal" style="
          position:absolute;top:10px;right:14px;background:none;border:none;
          font-size:1.3em;cursor:pointer;color:#6c63ff;">√ó</button>
        <h2 style="margin-bottom:12px;color:#6c63ff;">How to Use "Can We Meet"</h2>
        <div style="font: size 1em;em;line-height:1.6;color:#333;">
          <b>Can We Meet</b> is a real-time location and chat platform designed for fun, safety, and easy meetups.<br><br>
          <b>Features:</b>
          <ul style="margin-left:18px;">
            <li><b>Live Map:</b> See yourself and others on a playful, interactive map.</li>
            <li><b>Chat:</b> Send text and voice messages to everyone in the group chat.</li>
            <li><b>Mini Chat:</b> Link up with nearby users (within 30km) for private group chats.</li>
            <li><b>Location Controls:</b> Choose when to share or hide your location, and for how long.</li>
            <li><b>Route Planning:</b> Privately plan routes between users for easy meetups.</li>
            <li><b>Replies:</b> React to messages and reply just like in modern messengers.</li>
            <li><b>Mobile Friendly:</b> Works great on both desktop and mobile devices.</li>
          </ul>
          <b>How to Use:</b>
          <ol style="margin-left:18px;">
            <li>Allow location access when prompted to appear on the map.</li>
            <li>Use the chat to talk to everyone, or link up with nearby users for private chats.</li>
            <li>Press the <b>üìç</b> button to quickly center the map on your location.</li>
            <li>Use the <b>i</b> button (this one!) anytime for help.</li>
          </ol>
          <b>Enjoy exploring, chatting, and meeting up safely!</b>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>